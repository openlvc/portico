<?xml version="1.0"?>
<!--
                  Welcome to the Portico Build System

       The Portico build system is an artefact-driven, modular, Ant
       based system. The base framework is split up over a number of
       different build files (base structure, macros, etc...) and is
       designed to be extended rather than modified. The full system
       is introduced and described in the online documentation.

          File: profiles/system.properties.xml
       Purpose: System-wide common properties for the core build system.

                              *** NOTE ***                        
       Do not edit this file unless you wish to fundamentally change
       where the build puts high-level files and directories. If you
       want to provide profile-specific properties, please put these
       at the head of your profile build file. If you want to define
       properties used across profiles, create a separate properties
       file and import it into your various profile builds.
-->
<project name="system.properties">

	<!-- =========================================================== -->
	<!--                      General Settings                       -->
	<!-- =========================================================== -->
	<description>
		This project contains the system-wide properties commonly used across all build profiles
	</description>

	<!-- =========================================================== -->
	<!--               Project-wide Task Initialization              -->
	<!-- =========================================================== -->
	<taskdef resource="net/sf/antcontrib/antcontrib.properties"/>   <!-- ant-contrib -->
	<taskdef resource="cpptaskdef.properties"/>                     <!-- cpptask -->
	<typedef resource="cpptypedef.properties"/>                     <!-- cpptask -->

	<!-- =========================================================== -->
	<!--                   Project-wide Properties                   -->
	<!-- =========================================================== -->
	<!-- load the environment variables -->
	<property environment="env"/>
	
	<!-- Load the user and project-specific overrides
	       * local.properties: Local machine/user settings. Values inside here override
	                           defaults and project-specific DO NOT commit to Git.
	       * build.properties: Project-specific settings and norms. Commit to Git.
	-->
	<property file="local.properties"/>  <!-- local machine settings -->
	<property file="build.properties"/>  <!-- project-specific settings -->

	<!-- get date and time information -->
	<tstamp><format property="YEAR" pattern="yyyy"/></tstamp>

	<!-- Build version identification properties (set if not in "build.version") -->
	<property name="build.longname"         value="Unknown"/> <!-- set in build.version -->
	<property name="build.shortname"        value="unknown"/> <!-- set in build.version -->
	<property name="build.version"          value=""/>        <!-- set in build.version -->
	<property name="build.number"           value="0"/>       <!-- overridden from command line -->
	<property name="license"                location="LICENSE.portico"/>
	<!-- Distribution Name - compiled from information above -->
	<property name="dist.name"              value="${build.shortname}-${build.version}"/>
	<echo>Build Version: ${build.shortname}-${build.version} (build ${build.number})</echo>

	<!-- Platform Determination Properties -->
	<!-- These tasks will initialize a bunch of properties based
	     on the system that the build is currently running on. The
	     various properties and values set are:
	       * ${platform}         : One of "macosx, win32, win64, linux32, linux64"
	       * ${platform.macosx}  : "true" if we are running on Mac OS X
	       * ${platform.win32}   : "true" if we are running on 32-bit Windows
	       * ${platform.win64}   : "true" if we are running on 64-bit Windows
	       * ${platform.linux32} : "true" if we are running on 32-bit Linux
	       * ${platform.linux64} : "true" if we are running on 64-bit Linux
	-->
	<platform/>

	<!-- Determine and set build profile properties -->
	<!-- To specify a particular profile, users include -Dprofile="..." on the
	     command line. This task looks at that property and sets a bunch of other
	     properties depending on its value. Properties are only set if a particular
	     profile matches that requested. The presence (of absence) of these props
	     is used by the compilation targets to determine whether or not to compile
	     for a particular profile.
	-->
	<!-- Compiler defaults - override from build.properties -->
	<property name="cpp.compilers.linux"   value="gcc11"/>
	<property name="cpp.compilers.windows" value="vc10,vc14,vc14_1,vc14_2"/>
	<!-- Generate the properties the build system will key off -->
	<generateCppCompilerVariables compilers="${cpp.compilers.windows},${cpp.compilers.linux}"
	                              architectures="x86,amd64"
	                              builds="debug,release"/>

	<!-- =========================================================== -->
	<!--          Locations, Resources and Build Directories         -->
	<!-- =========================================================== -->
	<!-- ==== JDK Related Properties ==== -->
	<!-- NOTE these properties should be overridden in build.properties -->
	<property name="jdk.home.macosx"  location="/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home"/>
	<property name="jdk.home.win32"   location="c:\Program Files (x86)\Java\jdk1.8.0_144"/>
	<property name="jdk.home.win64"   location="c:\Program Files\Java\jdk1.8.0_144"/>
	<property name="jdk.home.linux32" location="${env.JAVA_HOME}"/>
	<property name="jdk.home.linux64" location="${env.JAVA_HOME}"/>
	
	<!-- Location Properties -->
	<property name="lib.dir"                   location="lib"/>
	<property name="src.dir"                   location="src"/>

	<!-- Resources Directories -->
	<property name="resources.dir"             location="resources"/>
	<property name="resources.dist.dir"        location="${resources.dir}/dist"/>
	<property name="resources.installers.dir"  location="${resources.dir}/installers"/>
	<property name="resources.testdata.dir"    location="${resources.dir}/test-data"/>
	
	<!-- Generated Build and Distribution Properties -->
	<property name="build.dir"              location="build"/>
	<property name="dist.dir"               location="dist"/>
	<property name="sandbox.dir"            location="${dist.dir}/${dist.name}"/>
	<property name="sandbox.lib.dir"        location="${sandbox.dir}/lib"/>
	<property name="sandbox.bin.dir"        location="${sandbox.dir}/bin"/>
	<property name="sandbox.etc.dir"        location="${sandbox.dir}/etc"/>
	<property name="sandbox.include.dir"    location="${sandbox.dir}/include"/>
	<property name="sandbox.examples.dir"   location="${sandbox.dir}/examples"/>
</project>

